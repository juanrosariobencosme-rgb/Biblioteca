/*M!999999\- enable the sandbox mode */ 
-- MariaDB dump 10.19-12.0.2-MariaDB, for Linux (x86_64)
--
-- Host: localhost    Database: Biblioteca
-- ------------------------------------------------------
-- Server version	12.0.2-MariaDB

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*M!100616 SET @OLD_NOTE_VERBOSITY=@@NOTE_VERBOSITY, NOTE_VERBOSITY=0 */;

--
-- Table structure for table `dbo.ADMINISTRADOR`
--

DROP TABLE IF EXISTS `dbo.ADMINISTRADOR`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8mb4 */;
CREATE TABLE `dbo.ADMINISTRADOR` (
  `ID_ADMIN` tinyint(4) DEFAULT NULL,
  `ID_USUARIO` smallint(6) DEFAULT NULL,
  `CREAR_USUARIO` tinyint(4) DEFAULT NULL,
  `CARGO` varchar(22) DEFAULT NULL,
  `PERMISOS_ESPECIALES` varchar(86) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci ROW_FORMAT=DYNAMIC;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `dbo.ADMINISTRADOR`
--

LOCK TABLES `dbo.ADMINISTRADOR` WRITE;
/*!40000 ALTER TABLE `dbo.ADMINISTRADOR` DISABLE KEYS */;
set autocommit=0;
INSERT INTO `dbo.ADMINISTRADOR` VALUES
(1,101,0,'DIRECTOR EJECUTIVO','ACCESO A INFORMES FINANCIEROS'),
(2,102,1,'JEFE DE ADQUISICIONE','AUTORIZACION PARA FIRMAR CONTRATOS CON EDITORIALESY GESTIONAR EL PRESUPUESTO DE COMPRA'),
(3,103,1,'TECNICO DE SISTEMAS','CAPACIDAD PARA REINICIAR SERVIDORES Y REALIZAR COPIAS DE SEGURIDAD DE EMERGENCIA'),
(4,104,0,'ASISTENTE DE PRESTAMOS','PUEDE ANULAR MULTAS DE USUARIOS');
/*!40000 ALTER TABLE `dbo.ADMINISTRADOR` ENABLE KEYS */;
UNLOCK TABLES;
commit;

--
-- Table structure for table `dbo.CONTROL_RESERVAS`
--

DROP TABLE IF EXISTS `dbo.CONTROL_RESERVAS`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8mb4 */;
CREATE TABLE `dbo.CONTROL_RESERVAS` (
  `ID_CONTROL` smallint(6) DEFAULT NULL,
  `ID_LIBRO` smallint(6) DEFAULT NULL,
  `NUMERO_RESERVAS_ACTIVAS` tinyint(4) DEFAULT NULL,
  `ULTIMA_ACTUALIZACION` varchar(19) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci ROW_FORMAT=DYNAMIC;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `dbo.CONTROL_RESERVAS`
--

LOCK TABLES `dbo.CONTROL_RESERVAS` WRITE;
/*!40000 ALTER TABLE `dbo.CONTROL_RESERVAS` DISABLE KEYS */;
set autocommit=0;
INSERT INTO `dbo.CONTROL_RESERVAS` VALUES
(903,203,0,'2025-08-10 13:15:48'),
(911,201,1,'2025-09-28 09:45:00'),
(912,202,1,'2025-09-19 11:13:04'),
(914,204,4,'2025-10-21 14:23:00');
/*!40000 ALTER TABLE `dbo.CONTROL_RESERVAS` ENABLE KEYS */;
UNLOCK TABLES;
commit;

--
-- Table structure for table `dbo.EJEMPLARES`
--

DROP TABLE IF EXISTS `dbo.EJEMPLARES`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8mb4 */;
CREATE TABLE `dbo.EJEMPLARES` (
  `ID_EJEMPLAR` smallint(6) DEFAULT NULL,
  `ID_LIBRO` smallint(6) DEFAULT NULL,
  `ID_INVENTARIO` smallint(6) DEFAULT NULL,
  `CODIGO_INVENTARIO` varchar(9) DEFAULT NULL,
  `UBICACION` varchar(31) DEFAULT NULL,
  `ESTADO` varchar(10) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci ROW_FORMAT=DYNAMIC;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `dbo.EJEMPLARES`
--

LOCK TABLES `dbo.EJEMPLARES` WRITE;
/*!40000 ALTER TABLE `dbo.EJEMPLARES` DISABLE KEYS */;
set autocommit=0;
INSERT INTO `dbo.EJEMPLARES` VALUES
(401,201,301,'EJ-201-01','SALA GENERAL A-5','PRESTADO'),
(402,202,302,'EJ-202-02','SECCION TECNOLOGIA ESTANTE T-12','DISPONIBLE'),
(403,203,303,'EJ-203-03','SALA GENERAL A-8','DISPONIBLE'),
(404,204,304,'EJ-204-04','SECCION INFANTIL','PRESTADO');
/*!40000 ALTER TABLE `dbo.EJEMPLARES` ENABLE KEYS */;
UNLOCK TABLES;
commit;

--
-- Table structure for table `dbo.INVENTARIO`
--

DROP TABLE IF EXISTS `dbo.INVENTARIO`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8mb4 */;
CREATE TABLE `dbo.INVENTARIO` (
  `ID_INVENTARIO` smallint(6) DEFAULT NULL,
  `ID_LIBRO` smallint(6) DEFAULT NULL,
  `TOTAL_EJEMPLARES` tinyint(4) DEFAULT NULL,
  `DISPONIBLES` tinyint(4) DEFAULT NULL,
  `PRESTADOS` tinyint(4) DEFAULT NULL,
  `RESERVADOS` tinyint(4) DEFAULT NULL,
  `FECHA_ACTUALIZADA` varchar(10) DEFAULT NULL,
  `ID_ADMIN` tinyint(4) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci ROW_FORMAT=DYNAMIC;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `dbo.INVENTARIO`
--

LOCK TABLES `dbo.INVENTARIO` WRITE;
/*!40000 ALTER TABLE `dbo.INVENTARIO` DISABLE KEYS */;
set autocommit=0;
INSERT INTO `dbo.INVENTARIO` VALUES
(301,201,5,4,2,1,'2025-10-03',1),
(302,202,10,9,0,1,'2025-09-25',2),
(303,203,3,3,0,0,'2025-10-15',3),
(304,204,7,0,3,4,'2024-07-18',4);
/*!40000 ALTER TABLE `dbo.INVENTARIO` ENABLE KEYS */;
UNLOCK TABLES;
commit;

--
-- Table structure for table `dbo.LIBRO`
--

DROP TABLE IF EXISTS `dbo.LIBRO`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8mb4 */;
CREATE TABLE `dbo.LIBRO` (
  `ID_LIBRO` smallint(6) DEFAULT NULL,
  `ID_ROL` tinyint(4) DEFAULT NULL,
  `TITULO` varchar(27) DEFAULT NULL,
  `AUTOR` varchar(24) DEFAULT NULL,
  `EDITORIAL` varchar(13) DEFAULT NULL,
  `AÑO_PUBLICACION` smallint(6) DEFAULT NULL,
  `ISBN` varchar(14) DEFAULT NULL,
  `CATEGORIA` varchar(19) DEFAULT NULL,
  `ESTADO` varchar(10) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci ROW_FORMAT=DYNAMIC;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `dbo.LIBRO`
--

LOCK TABLES `dbo.LIBRO` WRITE;
/*!40000 ALTER TABLE `dbo.LIBRO` DISABLE KEYS */;
set autocommit=0;
INSERT INTO `dbo.LIBRO` VALUES
(201,1,'CIEN AÑOS DE SOLEDAD','GABRIEL GARCIA MARQUEZ','EDITARIAL SUR',1967,'978-6071110000','NOVELA','DISPONIBLE'),
(202,2,'FUNDAMENTOS DE PROGRAMACION','CARLOS RUIZ','TECH PRESS',2018,'978-8426727282','INFORMATICA','RESERVADO'),
(203,3,'AVENTURAS EN EL TIEMPO','SOFIA ALONZO','JOVEN LECTOR',2022,'978-9588611135','FICCION','PERDIDO'),
(204,4,'EL PRINCIPITO','ANTOINE DE SAINT-EXUPERY','SALAMANDRA',1943,'978-8478441951','LITERATURA INFANTIL','PRESTADO');
/*!40000 ALTER TABLE `dbo.LIBRO` ENABLE KEYS */;
UNLOCK TABLES;
commit;

--
-- Table structure for table `dbo.NOTIFICACION`
--

DROP TABLE IF EXISTS `dbo.NOTIFICACION`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8mb4 */;
CREATE TABLE `dbo.NOTIFICACION` (
  `ID_NOTIFICACION` smallint(6) DEFAULT NULL,
  `ID_USUARIO` smallint(6) DEFAULT NULL,
  `TIPO_NOTIFICACION` varchar(24) DEFAULT NULL,
  `FECHA_NOTIFICACION` varchar(19) DEFAULT NULL,
  `MENSAJE` varchar(34) DEFAULT NULL,
  `ESTADO` varchar(8) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci ROW_FORMAT=DYNAMIC;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `dbo.NOTIFICACION`
--

LOCK TABLES `dbo.NOTIFICACION` WRITE;
/*!40000 ALTER TABLE `dbo.NOTIFICACION` DISABLE KEYS */;
set autocommit=0;
INSERT INTO `dbo.NOTIFICACION` VALUES
(701,101,'VENCIMEIENTO DE PRESTAMO','2025-03-11 10:00:00','SU PRESTAMO DEL LIBRO VENCE PRONTO','NO LEIDA'),
(702,102,'DEVOLUCION EXITOSA','2025-03-11 15:30:00','LIBRO DEVUELTO CON EXITO','LEIDA'),
(703,103,'BIENVENIDA','2025-10-25 16:45:00','BIENVENIDO A NUESTRA BIBLIOTECA','NO LEIDA'),
(711,101,'VENCIMEIENTO DE PRESTAMO','2025-11-03 10:00:00','SU PRESTAMO DEL LIBRO VENCE PRONTO','NO LEIDA'),
(712,102,'DEVOLUCION EXITOSA','2025-11-03 15:30:00','LIBRO DEVUELTO CON EXITO','LEIDA'),
(713,103,'BIENVENIDA','2025-10-25 16:45:00','BIENVENIDO A NUESTRA BIBLIOTECA','NO LEIDA'),
(714,104,'RESERVA EXITOSA','2025-10-29 09:15:25','SE HA REALIZADO UNA RESERVA','LEIDA');
/*!40000 ALTER TABLE `dbo.NOTIFICACION` ENABLE KEYS */;
UNLOCK TABLES;
commit;

--
-- Table structure for table `dbo.PRESTAMO`
--

DROP TABLE IF EXISTS `dbo.PRESTAMO`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8mb4 */;
CREATE TABLE `dbo.PRESTAMO` (
  `ID_PRESTAMO` smallint(6) DEFAULT NULL,
  `ID_USUARIO` smallint(6) DEFAULT NULL,
  `ID_EJEMPLAR` smallint(6) DEFAULT NULL,
  `FECHA_PRESTAMO` varchar(10) DEFAULT NULL,
  `FECHA_DEVOLUCION_PREVISTA` varchar(10) DEFAULT NULL,
  `FECHA_DEVOLUCION_REAL` varchar(10) DEFAULT NULL,
  `ESTADO` varchar(9) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci ROW_FORMAT=DYNAMIC;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `dbo.PRESTAMO`
--

LOCK TABLES `dbo.PRESTAMO` WRITE;
/*!40000 ALTER TABLE `dbo.PRESTAMO` DISABLE KEYS */;
set autocommit=0;
INSERT INTO `dbo.PRESTAMO` VALUES
(501,101,401,'2025-07-15','2025-07-25','2025-07-27','ACTIVO'),
(502,102,402,'2025-06-10','2025-06-25','2025-06-30','DEVUELTO'),
(503,103,403,'2025-08-02','2025-08-10','2025-08-15','PERDIDO'),
(504,104,404,'2025-10-23','2025-11-02','2025-11-05','RESERVADO');
/*!40000 ALTER TABLE `dbo.PRESTAMO` ENABLE KEYS */;
UNLOCK TABLES;
commit;

--
-- Table structure for table `dbo.RENOVACION`
--

DROP TABLE IF EXISTS `dbo.RENOVACION`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8mb4 */;
CREATE TABLE `dbo.RENOVACION` (
  `ID_RENOVACION` smallint(6) DEFAULT NULL,
  `ID_PRESTAMO` smallint(6) DEFAULT NULL,
  `FECHA_RENOVACION` varchar(10) DEFAULT NULL,
  `FECHA_NUEVA_DEVOLUCION` varchar(10) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci ROW_FORMAT=DYNAMIC;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `dbo.RENOVACION`
--

LOCK TABLES `dbo.RENOVACION` WRITE;
/*!40000 ALTER TABLE `dbo.RENOVACION` DISABLE KEYS */;
set autocommit=0;
INSERT INTO `dbo.RENOVACION` VALUES
(601,501,'2025-11-14','2025-11-29'),
(602,502,'2025-11-07','2025-11-22'),
(603,503,'2025-11-17','2025-12-02'),
(604,504,'2025-11-25','2025-12-10');
/*!40000 ALTER TABLE `dbo.RENOVACION` ENABLE KEYS */;
UNLOCK TABLES;
commit;

--
-- Table structure for table `dbo.RESERVAS`
--

DROP TABLE IF EXISTS `dbo.RESERVAS`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8mb4 */;
CREATE TABLE `dbo.RESERVAS` (
  `ID_RESERVA` smallint(6) DEFAULT NULL,
  `ID_USUARIO` smallint(6) DEFAULT NULL,
  `ID_LIBRO` smallint(6) DEFAULT NULL,
  `FECHA_RESERVA` varchar(10) DEFAULT NULL,
  `FECHA_CADUCIDAD` varchar(0) DEFAULT NULL,
  `ESTADO` varchar(10) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci ROW_FORMAT=DYNAMIC;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `dbo.RESERVAS`
--

LOCK TABLES `dbo.RESERVAS` WRITE;
/*!40000 ALTER TABLE `dbo.RESERVAS` DISABLE KEYS */;
set autocommit=0;
INSERT INTO `dbo.RESERVAS` VALUES
(801,101,201,'2025-08-25','','PENDIENTE'),
(802,102,202,'2025-09-15','','PENDIENTE'),
(803,103,203,'2025-09-25','','VENCIDA'),
(804,104,204,'2025-10-30','','EN PROCESO');
/*!40000 ALTER TABLE `dbo.RESERVAS` ENABLE KEYS */;
UNLOCK TABLES;
commit;

--
-- Table structure for table `dbo.ROL`
--

DROP TABLE IF EXISTS `dbo.ROL`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8mb4 */;
CREATE TABLE `dbo.ROL` (
  `ID_ROL` tinyint(4) DEFAULT NULL,
  `NOMBRE_ROL` varchar(21) DEFAULT NULL,
  `DESCRIPCION` varchar(82) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci ROW_FORMAT=DYNAMIC;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `dbo.ROL`
--

LOCK TABLES `dbo.ROL` WRITE;
/*!40000 ALTER TABLE `dbo.ROL` DISABLE KEYS */;
set autocommit=0;
INSERT INTO `dbo.ROL` VALUES
(1,'ADMINISTRADOR_SISTEMA','GESTIONA USUARIOS, CONFIGURA EL SISTEMA Y REALIZA MANTENIMIENTO A LA BASE DE DATOS'),
(2,'BIBLIOTECARIO','REGISTRA NUEVOS LIBROS, GESTIONA PRESTAMOS Y DEVOLUCIONES Y ATIENDE A LOS USUARIOS'),
(3,'CATALOGADOR','SE ENCARGA DE LA ENTRADA DETALLADA DE METADATOS DE NUEVOS EJEMPLARES'),
(4,'USUARIO/LECTOR','PUEDE BUSCAR LIBROS, VER SU HISTORIAL DE PRESTAMOS Y RESERVAR EJEMPLARES');
/*!40000 ALTER TABLE `dbo.ROL` ENABLE KEYS */;
UNLOCK TABLES;
commit;

--
-- Table structure for table `dbo.USUARIO`
--

DROP TABLE IF EXISTS `dbo.USUARIO`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8mb4 */;
CREATE TABLE `dbo.USUARIO` (
  `ID_USUARIO` smallint(6) DEFAULT NULL,
  `NOMBRE` varchar(14) DEFAULT NULL,
  `TIPO_USUARIO` varchar(10) DEFAULT NULL,
  `EMAIL` varchar(23) DEFAULT NULL,
  `TELEFONO` varchar(12) DEFAULT NULL,
  `FECHA_REGISTRO` varchar(10) DEFAULT NULL,
  `ESTADO` varchar(10) DEFAULT NULL,
  `Max_libros` tinyint(4) DEFAULT 3,
  `Deuda` float DEFAULT 0
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci ROW_FORMAT=DYNAMIC;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `dbo.USUARIO`
--

LOCK TABLES `dbo.USUARIO` WRITE;
/*!40000 ALTER TABLE `dbo.USUARIO` DISABLE KEYS */;
set autocommit=0;
INSERT INTO `dbo.USUARIO` VALUES
(101,'ANA LOPEZ','ESTUDIANTE','ANALOPEZ01@GMAIL.COM','829-525-0944','2025-01-15','ACTIVO',3,0),
(102,'JUAN PEREZ','MAESTRO','PEREZJUAN25@GMAIL.COM','809-710-0045','2025-03-02','ACTIVO',3,0),
(103,'MARIA GOMEZ','ESTUDIANTE','MARIAG365@GMAIL.COM','849-263-1035','2025-04-25','INACTVO',3,0),
(104,'PEDRO MARTINEZ','ESTUDIANTE','PEDROMARTINEZ@GMAIL.COM','849-265-2555','2025-03-10','SUSPENDIDO',3,0);
/*!40000 ALTER TABLE `dbo.USUARIO` ENABLE KEYS */;
UNLOCK TABLES;
commit;

--
-- Dumping routines for database 'Biblioteca'
--
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*M!100616 SET NOTE_VERBOSITY=@OLD_NOTE_VERBOSITY */;

-- Dump completed on 2025-11-05 20:55:04
